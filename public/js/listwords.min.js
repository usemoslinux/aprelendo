$(document).ready((function(){let e="";const t=$("#dicFrame");let a=$();function o(){0===$("input[type=checkbox]:checked").length?$("#actions-menu").addClass("disabled"):$("#actions-menu").removeClass("disabled")}$("#search").focus(),$("input:checkbox").prop("checked",!1),$.ajax({url:"/ajax/getdicuris.php",type:"GET",dataType:"json"}).done((function(t){null==t.error_msg&&(e=t.dictionary_uri)})),$("#mDelete").on("click",(function(){if(confirm("Really delete?")){let e=[];$("input.chkbox-selrow:checked").each((function(){e.push($(this).attr("data-idWord"))})),$.ajax({url:"ajax/removeword.php",type:"POST",data:{wordIDs:JSON.stringify(e)}}).done((function(){window.location.replace("words"+parameterizeArray(getCurrentURIParameters()))})).fail((function(e,t,a){alert("There was an error when trying to delete the selected words. Refresh the page and try again.")}))}})),$(document).on("change",".chkbox-selrow",o),$(document).on("click","#chkbox-selall",(function(e){e.stopPropagation();$(".chkbox-selrow").prop("checked",$(this).prop("checked")),o()})),$("#dropdown-menu-sort").on("click",(function(e){const t={s:$("#s").val(),o:$("#o").val()},a=parameterizeArray(t);window.location.replace("/words"+a)})),$(".word").on("click",(function(o){a=$(this);const n=e.replace("%s",encodeURI(a.text()));$("#btn-add").text("Forgot").removeClass("btn-primary").addClass("btn-danger"),$("#btn-translate").hide(),$("#btn-remove").removeClass().addClass("btn btn-lg btn-danger me-auto"),$("#loading-spinner").attr("class","lds-ellipsis m-auto"),t.attr("class","d-none"),t.get(0).contentWindow.location.replace(n),$("#dic-modal").modal("show")})),t.on("load",(function(){$("#loading-spinner").attr("class","d-none"),t.removeClass()})),$("#btn-add").on("click",(function(e){$.ajax({type:"POST",url:"/ajax/addword.php",data:{word:a.text()}}).done((function(e){if(null!=e.error_msg)alert(e.error_msg);else{let e=a.parent().next().children(":first");e.removeClass().addClass("bi bi-hourglass-bottom status_forgotten"),e.attr("title","Forgotten")}})).fail((function(){alert("Oops! There was an error updating this words' status.")}))})),$("#btn-remove").on("click",(function(e){$.ajax({url:"ajax/removeword.php",type:"POST",data:{word:a.text()}}).done((function(){window.location.replace("words"+parameterizeArray(getCurrentURIParameters()))})).fail((function(e,t,a){alert("There was an error when trying to delete the selected words. Refresh the page and try again.")}))}))}));