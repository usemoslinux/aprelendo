const langs_with_no_word_separator=["zh","ja","ko"];function addLinks(a,e,s){let r="",o="";const n=s?"style='display: none;'":"";return r=langs_with_no_word_separator.includes(e)?new RegExp(/(?:\s*<a class='word[^>]+>.*?<\/a>|<[^>]*>)|(\p{L})/giu):new RegExp(/(?:\s*<a class='word[^>]+>.*?<\/a>|<[^>]*>)|(\p{L}+)/giu),o=a.replace(r,(function(a,e){return void 0===e?a:'<a class="word" data-toggle="modal" data-bs-target="#dic-modal" '+n+">"+e+"</a>"})),r=new RegExp(/(?<=<[^>]*>)([^\p{L}<]+)/gu),o=o.replace(r,(function(a,e){return void 0===e?a:"<a>"+e+"</a>"})),o}function underlineWords(a,e,s){let r=a.text,o="",n="",t="",d="",l="",i="";const g=s?"style='display: none;'":"";return Object.values(a.user_words).forEach((a=>{a.is_phrase>0?a.status>0?n+=escapeRegExp(a.word)+"|":t+=escapeRegExp(a.word)+"|":a.status>0?d+=a.word+"|":l+=a.word+"|"})),n&&(n=n.slice(0,-1),o=langs_with_no_word_separator.includes(e)?new RegExp("(?:<[^>]*>)|("+n+")","iug"):new RegExp("(?:<[^>]*>)|(?<![\\p{L}])("+n+")(?![\\p{L}])","iug"),r=r.replace(o,(function(a,e){return void 0===e?a:"<a class='word reviewing learning' data-toggle='modal' data-bs-target='#dic-modal' "+g+">"+e+"</a>"}))),t&&(t=t.slice(0,-1),o=langs_with_no_word_separator.includes(e)?new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|("+t+")","iug"):new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|(?<![\\p{L}])("+t+")(?![\\p{L}])","iug"),r=r.replace(o,(function(a,e){return void 0===e?a:"<a class='word learned' data-toggle='modal' data-bs-target='#dic-modal' "+g+">"+e+"</a>"}))),d&&(d=d.slice(0,-1),o=langs_with_no_word_separator.includes(e)?new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|("+d+")","iug"):new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|(?<![\\p{L}])("+d+")(?![\\p{L}])","iug"),r=r.replace(o,(function(a,e){return void 0===e?a:"<a class='word reviewing learning' data-toggle='modal' data-bs-target='#dic-modal' "+g+">"+e+"</a>"}))),l&&(l=l.slice(0,-1),o=langs_with_no_word_separator.includes(e)?new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|("+l+")","iug"):new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|(?<![\\p{L}])("+l+")(?![\\p{L}])","iug"),r=r.replace(o,(function(a,e){return void 0===e?a:"<a class='word learned' data-toggle='modal' data-bs-target='#dic-modal' "+g+">"+e+"</a>"}))),a.high_freq&&(i=a.high_freq.join("|"),o=langs_with_no_word_separator.includes(e)?new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|("+i+")","iug"):new RegExp("(?:s*<a class='word[^>]+>.*?</a>|<[^>]*>)|(?<![\\p{L}])("+i+")(?![\\p{L}])","iug"),r=r.replace(o,(function(a,e,s,r){return void 0===e?a:"<a class='word frequency-list' data-toggle='modal' data-bs-target='#dic-modal' "+g+">"+e+"</a>"}))),addLinks(r,e,s)}function escapeRegExp(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}