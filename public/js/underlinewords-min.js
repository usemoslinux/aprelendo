var langs_with_no_word_separator=["zh","ja","ko"];function addLinks(a,s){var n="";return n=langs_with_no_word_separator.includes(s)?new RegExp(/(?:\s*<span class='word[^>]+>.*?<\/span>|<[^>]*>)|(\p{L})/giu):new RegExp(/(?:\s*<span class='word[^>]+>.*?<\/span>|<[^>]*>)|(\p{L}+)/giu),result=a.replace(n,(function(a,s){return void 0===s?a:'<span class="word" data-toggle="modal" data-target="#myModal">'+s+"</span>"})),n=new RegExp(/(?<=<[^>]*>)([^\p{L}<]+)/gu),result=result.replace(n,(function(a,s){return void 0===s?a:"<span>"+s+"</span>"})),result}function underlineWords(a,s){var n=a.text,e="",r="",o="",p="",t="",d="";return Object.values(a.user_words).forEach((a=>{a.is_phrase>0?a.status>0?r+=a.word+"|":o+=a.word+"|":a.status>0?p+=a.word+"|":t+=a.word+"|"})),r&&(r=r.slice(0,-1),e=langs_with_no_word_separator.includes(s)?new RegExp("(?:<[^>]*>)|("+r+")","iug"):new RegExp("(?:<[^>]*>)|(?<![\\p{L}])("+r+")(?![\\p{L}])","iug"),n=n.replace(e,(function(a,s){return void 0===s?a:"<span class='word reviewing learning' data-toggle='modal' data-target='#myModal'>"+s+"</span>"}))),o&&(o=o.slice(0,-1),e=langs_with_no_word_separator.includes(s)?new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|("+o+")","iug"):new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+o+")(?![\\p{L}])","iug"),n=n.replace(e,(function(a,s){return void 0===s?a:"<span class='word learned' data-toggle='modal' data-target='#myModal'>"+s+"</span>"}))),p&&(p=p.slice(0,-1),e=langs_with_no_word_separator.includes(s)?new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|("+p+")","iug"):new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+p+")(?![\\p{L}])","iug"),n=n.replace(e,(function(a,s){return void 0===s?a:"<span class='word reviewing learning' data-toggle='modal' data-target='#myModal'>"+s+"</span>"}))),t&&(t=t.slice(0,-1),e=langs_with_no_word_separator.includes(s)?new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|("+t+")","iug"):new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+t+")(?![\\p{L}])","iug"),n=n.replace(e,(function(a,s){return void 0===s?a:"<span class='word learned' data-toggle='modal' data-target='#myModal'>"+s+"</span>"}))),a.high_freq&&(d=a.high_freq.join("|"),e=langs_with_no_word_separator.includes(s)?new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|("+d+")","iug"):new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+d+")(?![\\p{L}])","iug"),n=n.replace(e,(function(a,s,n,e){return void 0===s?a:"<span class='word frequency-list' data-toggle='modal' data-target='#myModal'>"+s+"</span>"}))),addLinks(n,s)}