function addLinks(a){var e=new RegExp(/(?:\s*<span class='word[^>]+>.*?<\/span>|<[^>]*>)|(\p{L}+)/giu);return result=a.replace(e,(function(a,e,n,s){return void 0===e?a:'<span class="word" data-toggle="modal" data-target="#myModal">'+e+"</span>"})),e=new RegExp(/(?<=<[^>]*>)([^\p{L}<]+)/gu),result=result.replace(e,(function(a,e,n,s){return void 0===e?a:"<span>"+e+"</span>"})),result}function underlineWords(a){var e=a.text,n="",s="",r="",t="",d="",o="";return Object.values(a.user_words).forEach((a=>{a.is_phrase>0?a.status>0?s+=a.word+"|":r+=a.word+"|":a.status>0?t+=a.word+"|":d+=a.word+"|"})),s&&(s=s.slice(0,-1),n=new RegExp("(?:<[^>]*>)|(?<![\\p{L}])("+s+")(?![\\p{L}])","iug"),e=e.replace(n,(function(a,e,n,s){return void 0===e?a:"<span class='word reviewing learning' data-toggle='modal' data-target='#myModal'>"+e+"</span>"}))),r&&(r=r.slice(0,-1),n=new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+r+")(?![\\p{L}])","iug"),e=e.replace(n,(function(a,e,n,s){return void 0===e?a:"<span class='word learned' data-toggle='modal' data-target='#myModal'>"+e+"</span>"}))),t&&(t=t.slice(0,-1),n=new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+t+")(?![\\p{L}])","iug"),e=e.replace(n,(function(a,e,n,s){return void 0===e?a:"<span class='word reviewing learning' data-toggle='modal' data-target='#myModal'>"+e+"</span>"}))),d&&(d=d.slice(0,-1),n=new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+d+")(?![\\p{L}])","iug"),e=e.replace(n,(function(a,e,n,s){return void 0===e?a:"<span class='word learned' data-toggle='modal' data-target='#myModal'>"+e+"</span>"}))),a.high_freq&&(o=a.high_freq.join("|"),n=new RegExp("(?:s*<span class='word[^>]+>.*?</span>|<[^>]*>)|(?<![\\p{L}])("+o+")(?![\\p{L}])","iug"),e=e.replace(n,(function(a,e,n,s){return void 0===e?a:"<span class='word frequency-list' data-toggle='modal' data-target='#myModal'>"+e+"</span>"}))),addLinks(e)}