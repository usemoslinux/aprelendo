$(document).ready((function(){$("#btn-save-reader-prefs").on("click",(function(){const e=$("#mode").val()+"mode";let t=$(parent.document.body);if(t.removeClass().addClass(e),$("#viewer").length>0){let e=$("#userstyles"),t="#viewer p {font-family: "+$("#fontfamily").val()+" !important;font-size: "+$("#fontsize").val()+" !important;text-align: "+$("#alignment").val()+" !important;line-height: "+$("#lineheight").val()+" !important;margin: 0 0 1em 0 !important; padding: 0 !important; text-indent:1.5em !important;}",a=" #viewer h1, #viewer h2, #viewer h3, #viewer h4, #viewer h5, #viewer h6 {font-family: "+$("#fontfamily").val()+" !important;font-size: "+$("#fontsize").val()+" !important;text-align: center !important;line-height: "+$("#lineheight").val()+" !important;margin: 0 0 1em 0 !important; padding: 2.5em 0 !important; text-indent:0 !important;}";e.html(t+a)}else t.css({"font-family":$("#fontfamily").val(),"font-size":$("#fontsize").val(),"text-align":$("#alignment").val(),"line-height":$("#lineheight").val()}),$("#text").css("line-height",$("#lineheight").val());t.find("#audioplayer-container").removeClass().addClass(e),t.find(".offcanvas").length&&("darkmode"==e?(t.find(".offcanvas").addClass("text-bg-dark"),t.find("#close-offcanvas").addClass("btn-close-white")):(t.find(".offcanvas").removeClass("text-bg-dark"),t.find("#close-offcanvas").removeClass("btn-close-white"))),$.ajax({url:"/ajax/savepreferences.php",type:"POST",data:$("#prefs-modal-form").serialize()})}))}));