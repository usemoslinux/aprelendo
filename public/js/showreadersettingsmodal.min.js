$(document).ready((function(){$("#btn-save-reader-prefs").on("click",(function(){const e=$("#mode").val()+"mode";let a=$(parent.document.body);if(a.removeClass().addClass(e),$("#viewer").length>0){let e=$("#userstyles"),a="#viewer p {font-family: "+$("#fontfamily").val()+" !important;font-size: "+$("#fontsize").val()+" !important;text-align: "+$("#alignment").val()+" !important;line-height: "+$("#lineheight").val()+" !important;margin: 0 0 1em 0 !important; padding: 0 !important; text-indent:1.5em !important;}",t=" #viewer h1, #viewer h2, #viewer h3, #viewer h4, #viewer h5, #viewer h6 {font-family: "+$("#fontfamily").val()+" !important;font-size: "+$("#fontsize").val()+" !important;text-align: center !important;line-height: "+$("#lineheight").val()+" !important;margin: 0 0 1em 0 !important; padding: 2.5em 0 !important; text-indent:0 !important;}";e.html(a+t)}else a.css({"font-family":$("#fontfamily").val(),"font-size":$("#fontsize").val(),"text-align":$("#alignment").val(),"line-height":$("#lineheight").val()}),$("#text").css("line-height",$("#lineheight").val());let t=a.find("#audioplayer-container");t.hasClass("d-none")?t.removeClass().addClass(e).addClass("py-3 d-none"):t.removeClass().addClass(e+" py-3"),a.find(".offcanvas").length&&("darkmode"==e?(a.find(".offcanvas").addClass("text-bg-dark"),a.find("#close-offcanvas").addClass("btn-close-white")):(a.find(".offcanvas").removeClass("text-bg-dark"),a.find("#close-offcanvas").removeClass("btn-close-white"))),$.ajax({url:"/ajax/savepreferences.php",type:"POST",data:$("#prefs-modal-form").serialize()})}))}));