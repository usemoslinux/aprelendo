$(document).ready((function(){$.ajax({type:"GET",url:"ajax/getstats.php",data:{type:"words",days:7},dataType:"json"}).done((function(t){const e=t.learned,a=t.learning,n=t.new,o=t.forgotten,r=document.getElementById("interval-stats-canvas").getContext("2d");new Chart(r,{type:"bar",data:{labels:["6 days ago","5 days ago","4 days ago","3 days ago","2 days ago","Yesterday","Today"],datasets:[{label:"Learned",data:e,backgroundColor:"#3cb371",borderColor:"#3cb371",fill:!1},{label:"Learning",data:a,backgroundColor:"#ffa500",borderColor:"#ffa500",fill:!1},{label:"New",data:n,backgroundColor:"#1e90ff",borderColor:"#1e90ff",fill:!1},{label:"Forgotten",data:o,backgroundColor:"#ff6347",borderColor:"#ff6347",fill:!1}]},options:{scales:{y:{suggestedMin:1,suggestedMax:10}},maintainAspectRatio:!1}})})).fail((function(){$("#interval-stats-canvas").replaceWith("<div class='d-flex align-items-center justify-content-center' style='min-height:400px;'><p class='text-danger'>Error: no data to display</p></div>")})),$.ajax({type:"GET",url:"ajax/getstats.php",data:{type:"words",days:"all"},dataType:"json"}).done((function(t){const e=parseInt(t[0].count),a=parseInt(t[1].count),n=parseInt(t[2].count),o=parseInt(t[3].count),r=e+a+n+o,l=document.getElementById("total-stats-canvas").getContext("2d");new Chart(l,{type:"bar",data:{labels:["Card counts"],datasets:[{label:"Learned",data:[e],backgroundColor:"#3cb371"},{label:"Learning",data:[a],backgroundColor:"#ffa500"},{label:"New",data:[n],backgroundColor:"#1e90ff"},{label:"Forgotten",data:[o],backgroundColor:"#ff6347"}]},options:{indexAxis:"y",responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,display:!1}}}}),$("#learned-count").text(e),$("#learned-percentage").text((e/r*100).toFixed(2).toLocaleString("en-US")),$("#learning-count").text(a),$("#learning-percentage").text((a/r*100).toFixed(2).toLocaleString("en-US")),$("#new-count").text(n),$("#new-percentage").text((n/r*100).toFixed(2).toLocaleString("en-US")),$("#forgotten-count").text(o),$("#forgotten-percentage").text((o/r*100).toFixed(2).toLocaleString("en-US"))})).fail((function(){$("#total-stats-canvas").replaceWith("<div class='d-flex align-items-center justify-content-center' style='min-height:400px;'><p class='text-danger'>Error: no data to display</p></div>")}))}));