const audioController=(()=>{const e=document.getElementById("audioplayer"),t=document.getElementById("audio-source"),a=document.getElementById("ap-play-btn"),n=document.getElementById("ap-play-btn-icon"),r=document.getElementById("ap-progress-bar"),o=document.getElementById("ap-time-stamp"),d=document.querySelectorAll("#ap-speed-menu .dropdown-item"),i=document.getElementById("ap-abloop-btn");let l=!1,s=0,c=0,u=()=>{},p=()=>{},m=()=>{},y=()=>{},E=()=>{},b=()=>{};if(e){u=()=>e.play(),p=()=>{e.pause(),e.currentTime=0,l=!1},m=t=>{e.paused||(e.pause(),t&&setTimeout((()=>{l=!0}),50))},E=()=>{e.paused||e.ended?(e.play(),l=!0):(e.pause(),l=!1)},y=()=>{l&&u()},b=()=>{e.pause(),e.currentTime=0,u()};const f=()=>{let t=e.currentTime/e.duration*100;r.style.width=`${t}%`;let a=Math.floor(e.currentTime/3600),n=Math.floor(e.currentTime%3600/60),d=Math.floor(e.currentTime%60),i=Math.floor(e.duration/3600),l=Math.floor(e.duration%3600/60),s=Math.floor(e.duration%60),c=a>0?`${a}:`:"";c+=`${n<10?"0":""}${n}:${d<10?"0":""}${d}`;let u=i>0?`${i}:`:"";u+=`${l<10?"0":""}${l}:${s<10?"0":""}${s}`,o.textContent=`${c} / ${u}`},g=t=>{e.playbackRate=t,document.querySelectorAll("#ap-speed-menu .dropdown-item").forEach((e=>{parseFloat(e.getAttribute("data-speed"))===t?e.classList.add("active"):e.classList.remove("active")}))};a.addEventListener("click",E),e.addEventListener("loadedmetadata",f),e.addEventListener("timeupdate",(()=>{c>0&&e.currentTime>=c&&(e.currentTime=s),f()})),d.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target;if(t.hasAttribute("data-speed")){const e=parseFloat(t.getAttribute("data-speed"));g(e)}}))})),e.addEventListener("play",(()=>{n.className="bi bi-pause-fill",l=!0})),e.addEventListener("pause",(()=>{n.className="bi bi-play-fill",l=!1})),e.addEventListener("ended",(()=>{e.currentTime=0,n.className="bi bi-play-fill",l=!1})),t.addEventListener("error",(()=>{""!==t.src&&t.src!==window.location.href&&(a.removeEventListener("click",E),a.classList="btn btn-danger")})),i&&i.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),0===s&&0===c?(s=e.currentTime,i.textContent="B"):s>0&&0===c?(c=e.currentTime,i.textContent="C"):(s=c=0,i.textContent="A")}))}return{play:u,stop:p,pause:m,resume:y,togglePlayPause:E,playFromBeginning:b}})();