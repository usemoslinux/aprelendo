$(document).ready((function(){const e=$(".accordion").find(".accordion-item"),t=e.length;if(0!=t){for(let a=0;a<t;a++){const t=e.eq(a);(async(e,t)=>{try{const a=new URLSearchParams({feed_index:t}),n=await fetch(`ajax/fetchrssfeeds.php?${a.toString()}`),d=await n.json();if(!d.success){let a=$(e),n=t+1;throw a.find(".rss-placeholder-text").text("Error loading feed"),a.find(".accordion-button").removeClass("rss-placeholder-glow").addClass("text-bg-danger"),a.find("h2").after('<div id="item-'+n+'" class="collapse" data-bs-parent="#accordion"><div class="accordion-body"><div>'+d.error_msg+"</div></div></div>"),new Error(d.error_msg||"Failed to fetch RSS feed")}$(e).html(d.payload)}catch(e){}})("#"+t.attr("id"),t.data("feed-index"))}$(document).on("click",".btn-edit",(function(e){e.preventDefault(),e.stopPropagation(),function(e,t){const n=e.text().trim(),d=e.attr("data-author"),r=e.attr("data-src"),i=e.attr("data-pubdate"),o=t[0].innerText,s=$('<form id="form_add_audio" action="../addtext" method="post"></form>').append('<input type="hidden" name="text_title" value="'+n+'">').append('<input type="hidden" name="text_author" value="'+a(d)+'">').append('<input type="hidden" name="text_url" value="'+a(r)+'">').append('<input type="hidden" name="art_pubdate" value="'+a(i)+'">').append('<input type="hidden" name="text_content" value="'+a(o)+'">').append('<input type="hidden" name="text_is_shared" value="true">');$("body").append(s),s.trigger("submit")}($(this).closest(".accordion-item").find(".entry-info"),$(this).parent().siblings(".entry-text"))}))}else $("#accordion").html((function(){return showMessage('<p>No RSS feeds detected yet.</p><p>To begin discovering new content, visit the <a class="alert-link" href="/languages">languages</a> section and add up to three feeds per language.</p><p>If you need further guidance, explore our quick <a href="https://blog.aprelendo.com/2024/12/a-step-by-step-guide-to-adding-rss-texts-to-aprelendo/" target="_blank" rel="noopener noreferrer" class="alert-link">setup guide</a>.</p>',"alert-warning","Get Started")}));function a(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}));