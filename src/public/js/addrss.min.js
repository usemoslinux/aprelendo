$(document).ready((function(){const e=$(".accordion").find(".accordion-item"),t=e.length;if(0!=t){for(let a=0;a<t;a++){const t=e.eq(a),n="#"+t.attr("id"),r=t.data("feed-index");$.ajax({type:"GET",data:{feed_index:r},url:"ajax/fetchrssfeeds.php"}).done((function(e){if(null!=e.error_msg){let t=$(n),a=r+1;t.find(".rss-placeholder-text").text("Error!"),t.find(".accordion-button").removeClass("rss-placeholder-glow").addClass("text-bg-danger"),t.find("h2").after('<div id="item-'+a+'" class="collapse" data-bs-parent="#accordion"><div class="accordion-body"><div>'+e.error_msg+"</div></div></div>")}else $(n).html(e)})).fail((function(e,t,a){$("#accordion").fadeOut((function(){showMessage("There was an error trying to retrieve your RSS feeds. Please try again later.","alert-danger")}))}))}$(document).on("click",".btn-edit",(function(e){e.preventDefault(),e.stopPropagation(),function(e,t){const n=$.trim(e.text()),r=e.attr("data-author"),d=e.attr("data-src"),i=e.attr("data-pubdate"),o=t[0].innerText,s=$('<form id="form_add_audio" action="../addtext" method="post"></form>').append('<input type="hidden" name="text_title" value="'+n+'">').append('<input type="hidden" name="text_author" value="'+a(r)+'">').append('<input type="hidden" name="text_url" value="'+a(d)+'">').append('<input type="hidden" name="art_pubdate" value="'+a(i)+'">').append('<input type="hidden" name="text_content" value="'+a(o)+'">').append('<input type="hidden" name="text_is_shared" value="true">');$("body").append(s),s.submit()}($(this).closest(".accordion-item").find(".entry-info"),$(this).parent().siblings(".entry-text"))}))}else $("#accordion").html((function(){return showMessage('<p>No RSS feeds detected yet.</p><p>To begin discovering new content, visit the <a class="alert-link" href="/languages">languages</a> section and add up to three feeds per language.</p><p>If you need further guidance, explore our quick <a href="https://blog.aprelendo.com/2024/12/a-step-by-step-guide-to-adding-rss-texts-to-aprelendo/" target="_blank" rel="noopener noreferrer" class="alert-link">setup guide</a>.</p>',"alert-warning","Get Started")}));function a(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}));