!function(){const t=document.getElementById("heatmap");if(!t)return;let e=null,n=null,a=null;function i(){return window.matchMedia("(min-width: 1024px)").matches?12:window.matchMedia("(min-width: 640px)").matches?6:1}function o(a){if(!n)return;e&&e.destroy();const i=n.map((t=>t.count)).filter((t=>null!=t)),o=[0,Math.max(...i)];e=new CalHeatmap,e.paint({itemSelector:t,domain:{type:"month",gutter:8,label:{position:"top"}},subDomain:{type:"day",width:12,height:12,radius:2,gutter:2},range:a,data:{source:n,x:"date",y:"count",groupY:"sum"},date:{start:new Date((new Date).getFullYear(),(new Date).getMonth()-(a-1),1)},scale:{color:{type:"quantize",scheme:"Greens",domain:o}},theme:"light"},[[Tooltip,{enabled:!0,text:function(t,e,n){const a=e??0;return`${n.format("MMMM D, YYYY")}: ${a} review${1===a?"":"s"}`}}],[CalendarLabel,{position:"left",key:"weekday-left",width:20,textAlign:"end",padding:[38,6,0,0],text:()=>["Mon","","Wed","","Fri","",""]}]])}async function d(){const t=await fetch("/ajax/getreviewsperday.php",{cache:"no-store"});n=await t.json(),a=i(),o(a);let e=null;window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((()=>{const t=i();t!==a&&(a=t,o(a))}),150)}))}t.style.width="100%","loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d()}();