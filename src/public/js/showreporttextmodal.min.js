$(document).ready((function(){$("#btn-report-text").on("click",(function(){const e=$(this),r=$("#text-container").attr("data-idtext"),t=$('input[name="report-reason"]:checked').val();if(!t)throw showMessage("Please select a reason for reporting.","alert-danger",null,"report-alert-box"),new Error("User forgot to complete reason for reporting");showMessage("Sending... please wait.","alert-info",null,"report-alert-box"),e.prop("disabled",!0),$.ajax({type:"POST",url:"ajax/reporttext.php",data:{text_id:r,reason:t}}).done((function(r){if(r.error_msg)throw showMessage(r.error_msg,"alert-danger"),new Error(r.error_msg);showMessage("Thank you! Your report has been submitted. Together, we're making our community safer and more enjoyable for everyone.","alert-success",null,"report-alert-box"),setTimeout((function(){$("#report-text-modal").modal("hide"),e.prop("disabled",!1)}),3e3)})).fail((function(e,r,t){throw showMessage("Oops! There was an server error trying to report that text. Try again later.","alert-danger",null,"report-alert-box"),new Error("Really unexpected error while reporting this content. Probably a problem with the server.")}))})),$("#report-text-modal").on("hidden.bs.modal",(function(){$("#report-alert-box").hide(timeout)}))}));