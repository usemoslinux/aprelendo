const Dictionaries=(()=>{let t={dictionary:"",img_dictionary:"",translator:""};return{fetchURIs:()=>{$.ajax({url:"/ajax/getdicuris.php",type:"GET",dataType:"json"}).done((function(e){null==e.error_msg&&(t.dictionary=e.dictionary_uri,t.img_dictionary=e.img_dictionary_uri,t.translator=e.translator_uri)}))},getWordFrequency:t=>100==t?"Medium/low":t<81?"Very high":t<97?"High":void 0,getURIs:()=>t}})(),SentenceExtractor=(()=>{function t(t,e,r){const n=$(t[e+r]).text();return/^[\p{P}\p{Z}]$/u.test(n)}return{extractSentence:function(e){const r=/[.!?\u3002\uFF01\uFF1F](?=\s|$)/,n=TextProcessor.getAnchorsList(),o=TextProcessor.getAnchorIndex(e);if(o<0||o>=n.length)return"";let c=o;for(;c>0;){const e=$(n[c-1]).text();if(r.test(e)&&!t(n,c,-1))break;c--}let i=o;for(;i<n.length-1;){const e=$(n[i+1]).text();if(r.test(e)&&!t(n,i,1)){i++;break}i++}let a="";for(let t=c;t<=i;t++)a+=$(n[t]).text();return a.replace(/(\r\n|\n|\r)/g," ").trim()}}})(),LinkBuilder={forWordInDictionary:(t,e)=>{const r=e.replace(/\s+/g," ").trim();return t.replace("%s",encodeURIComponent(r))},forTranslationInText:(t,e)=>{let r=SentenceExtractor.extractSentence(e);return t.replace("%s",encodeURI(r))},forTranslationInVideo:(t,e)=>{let r=SentenceExtractor.extractSentence(e);return t.replace("%s",encodeURIComponent(r))},forTranslationInStudy:(t,e)=>{const r=e.parent("p").text().trim()||e.text();return t.replace("%s",encodeURIComponent(r))}};