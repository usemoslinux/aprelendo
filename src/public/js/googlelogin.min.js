async function googleLogIn(e){const o=decodeJwtResponse(e.credential);try{const e=new URLSearchParams;e.append("id",o.sub),e.append("name",o.name),e.append("email",o.email),e.append("time-zone",Intl.DateTimeFormat().resolvedOptions().timeZone);const t=await fetch("/ajax/google_oauth.php",{method:"POST",body:e});if(!t.ok)throw new Error(`HTTP error: ${t.status}`);const n=await t.json();if(!n.success)throw new Error(n.error_msg||"Failed to log in with Google.");window.location.replace("/texts")}catch(e){showMessage(e.message,"alert-danger")}}function decodeJwtResponse(e){let o=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(o).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)}