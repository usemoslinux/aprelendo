$(document).ready((function(){$.ajax({type:"GET",url:"ajax/getstats.php",data:{type:"words"},dataType:"json"}).done((function(t){const e=parseInt(t[0]),a=parseInt(t[1]),n=parseInt(t[2]),o=parseInt(t[3]),r=parseInt(t[4]),l=document.getElementById("total-stats-canvas").getContext("2d"),c={id:"noDataPlugin",afterDraw:t=>{if(0===r){const e=t.ctx,{width:a,height:n}=t;e.save(),e.textAlign="center",e.textBaseline="middle",e.font="16px Arial",e.fillStyle="gray",e.fillText("No Data Available",a/2,n/2),e.restore()}}};new Chart(l,{type:"bar",data:{labels:["Words"],datasets:[{label:"Learned",data:[e],backgroundColor:"#3cb371"},{label:"Learning",data:[a],backgroundColor:"#ffa500"},{label:"New",data:[n],backgroundColor:"#1e90ff"},{label:"Forgotten",data:[o],backgroundColor:"#ff6347"}]},options:{indexAxis:"y",responsive:!0,scales:{x:{stacked:!0,max:r||10},y:{stacked:!0,display:!1}},plugins:{legend:{display:!0}}},plugins:[c]}),0===r?($("#learned-count").text("0"),$("#learned-percentage").text("0"),$("#learning-count").text("0"),$("#learning-percentage").text("0"),$("#new-count").text("0"),$("#new-percentage").text("0"),$("#forgotten-count").text("0"),$("#forgotten-percentage").text("0"),$("#total-count").text("0")):($("#learned-count").text(e),$("#learned-percentage").text((e/r*100).toFixed(2).toLocaleString("en-US")),$("#learning-count").text(a),$("#learning-percentage").text((a/r*100).toFixed(2).toLocaleString("en-US")),$("#new-count").text(n),$("#new-percentage").text((n/r*100).toFixed(2).toLocaleString("en-US")),$("#forgotten-count").text(o),$("#forgotten-percentage").text((o/r*100).toFixed(2).toLocaleString("en-US")),$("#total-count").text(e+a+n+o))})).fail((function(){$("#total-stats-canvas").replaceWith("<div class='d-flex align-items-center justify-content-center' style='min-height:400px;'><p class='text-danger'>Error: no data to display</p></div>")}))}));