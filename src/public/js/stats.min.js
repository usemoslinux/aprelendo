$(document).ready((function(){$.ajax({type:"GET",url:"ajax/getstats.php",data:{type:"words"},dataType:"json"}).done((function(t){const e=parseInt(t[0]),a=parseInt(t[1]),n=parseInt(t[2]),o=parseInt(t[3]),r=parseInt(t[4]),i=document.getElementById("total-stats-canvas").getContext("2d"),l={id:"noDataPlugin",afterDraw:t=>{if(0===r){const e=t.ctx,{width:a,height:n}=t;e.save(),e.textAlign="center",e.textBaseline="middle",e.font="16px Arial",e.fillStyle="gray",e.fillText("No Data Available",a/2,n/2),e.restore()}}};new Chart(i,{type:"doughnut",data:{labels:["Learned","Learning","New","Forgotten"],datasets:[{data:[e,a,n,o],backgroundColor:["#3cb371","#ffa500","#1e90ff","#E0115F"],hoverOffset:4}]},options:{responsive:!0,plugins:{legend:{display:r,position:"right"},tooltip:{callbacks:{label:function(t){const e=t.raw,a=(e/t.dataset.data.reduce(((t,e)=>t+e),0)*100).toFixed(1);return`${t.label}: ${e} (${a}%)`}}}}},plugins:[l]}),r&&($("#learned-count").text(e),$("#learned-percentage").text((e/r*100).toFixed(2).toLocaleString("en-US")),$("#learning-count").text(a),$("#learning-percentage").text((a/r*100).toFixed(2).toLocaleString("en-US")),$("#new-count").text(n),$("#new-percentage").text((n/r*100).toFixed(2).toLocaleString("en-US")),$("#forgotten-count").text(o),$("#forgotten-percentage").text((o/r*100).toFixed(2).toLocaleString("en-US")),$("#total-count").text(e+a+n+o))})).fail((function(){$("#total-stats-canvas").replaceWith("<div class='d-flex align-items-center justify-content-center' style='min-height:400px;'><p class='text-danger'>Error: no data to display</p></div>")}))}));